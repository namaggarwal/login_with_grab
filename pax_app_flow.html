<!DOCTYPE html>
<html>

<head>
  <title>Login With Grab</title>
  <style type="text/css">
    .cont {
      width: 100%;
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    #btnLogin {
      padding: 10px;
      background: #00B14F;
      color: #FEF9EB;
      cursor: pointer;
    }
  </style>
</head>

<body>
  <div class="cont">
    <div id="btnLogin">
      Click to continue logging in with Grab
    </div>
  </div>
</body>

<script type="text/javascript">


function createSession() {
  fetch("https://grab-id-int.stg-myteksi.com/v1/oauth2/session", {
    method: 'POST',
    cors: 'CORS'
  })
  .then(res => res.json())
  .then(res => console.log(res));
}

function initiateLogin() {
  const query = window.location.search;
  const redirectURL = `intent://open?screenType=PARTNERLOGIN&${query.substring(1)}#Intent;scheme=grab;package=com.grabtaxi.passenger;S.browser_fallback_url=https%3A%2F%2Fwww%2Egoogle%2Ecom;end`
  window.location = redirectURL
  return false
}

function attachEvents() {
  document.getElementById("btnLogin").onclick = createSession;
}

(function() {
  attachEvents();
})()

</script>
</html>